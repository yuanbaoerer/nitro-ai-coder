## 拓展设计

## 1、会员/邀请功能拓展

1. 如果要实现会员功能，可以对 user 表进行如下拓展
   
   1. 给 userRole 字段新增枚举类 `vip`，标识会员用户，可以根据该值判断用户权限
   
   2. 新增会员过期时间字段，可用于记录会员有效期

   3. 新增会员兑换码字段，可用于记录会员的开通方式
   
   4. 新增会员编号字段，可便于定位用户并提供额外服务，并增加会员归属感
     对应的 sql：
   
     ```sql
     vipExpireTime datetime     null comment '会员过期时间',
     vipCode       varchar(128) null comment '会员兑换码',
     vipNumber     bigint       null comment '会员编号'
     ```
   
1. 如果要实现用户邀请功能，可以对表进行如下拓展
   
   1. 新增 shareCode 分享码字段，用于记录每个用户的唯一邀请标识，可拼接到邀请网址后面，比如 `https://mainshiya.com/?shareCode=xxx`
   2. 新增 inviteUser 字段，用于记录该用户是被哪个用户邀请的，可以通过这个字段查询某用户邀请的用户列表。
   
   ```sql
   shareCode     varchar(20)  DEFAULT NULL COMMENT '分享码',
   inviteUser    bigint       DEFAULT NULL COMMENT '邀请用户 id'
   
   ```

